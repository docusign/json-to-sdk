import docusign_esign as docusign
import base64
from os import path
# Use an OAuth flow to obtain an access token.

def send_envelope(api_client):
{{envelope_definition}}

    try:
        envelope_api = docusign.EnvelopesApi(api_client)
        return envelope_api.create_envelope(args['accountId'], envelope_definition=envelope_definition)
    except docusign.ApiException as err:
        print (f"   Error code: {err.reason}")
        print (f"   Error response: {err.body.decode('utf8')}")
        return False

def main(access_token):
    api_client = docusign.ApiClient()
    api_client.host = args['basePath']
    # For production and go-live, use OAuth to obtain the access token and account_id
    api_client.set_default_header("Authorization", "Bearer " + args['accessToken'])

    result = send_envelope(api_client)
    print(result)
